unit orm.conexao.model_firedac.ModelFiredacConexao;

interface

uses IniFiles, orm.interfaces.Interfaces;

  type
    TModelFiredacConexao = class(TInterfacedObject, IModelConexao)
      private
        FConexao: TFDConnection;
        FArqIni: TIniFile;
      public
        constructor Create;
        destructor Destroy;override;
        class function New: IModelConexao;
        function Connection: TObject;
    end;

implementation

{ TModelFiredacConexao }

function TModelFiredacConexao.Connection: TObject;
begin
   Result := FConexao;
end;

constructor TModelFiredacConexao.Create;
begin
   FConexao := TFDConnection.Create(nil);
   FConexao.Params.DriverID := 'FB';
   FConexao.Params.Database := 'C:\projetos\ERP - Restaurantes\Banco\ERP.FDB';
   FConexao.Params.UserName := 'SYSDBA';
   FConexao.Params.Password := 'masterkey';
   FConexao.Connected := true;
end;

destructor TModelFiredacConexao.Destroy;
begin
  FreeAndNil(FConexao);
  inherited;
end;

class function TModelFiredacConexao.New: IModelConexao;
begin
  Result := Self.Create;
end;

end.
